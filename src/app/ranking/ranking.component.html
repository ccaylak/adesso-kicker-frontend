<div *ngIf="(pages$ | async) as pages">
  <div id="everything-above-table" class="container">
    <div class="row">
      <div class="col-11">
        <div id="playerName">
          <h2>{{'HEADER.RANKING'|translate}}</h2>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="pages.content.length>0; then thenBlock else elseBlock"></div>
  <!--/* User List */-->
  <ng-template #thenBlock>

    <div class="container-fluid">
      <div *ngIf="user$|async as user">
        <span class="text-center alert alert-danger" *ngIf="!user.statistic">{{'RANKING.NO-RANK'|translate}}</span>
      </div>
      <div class="table-container">

        <div id="info-tooltip">
          <fa-icon class="fa-info-circle" [icon]="faInfoCircle" tooltip="{{'RANKING.TOOLTIP'|translate}}"
                   placement="left"></fa-icon>
        </div>
        <div class="shadow-sm" id="table-container">
          <table class="user-table table">
            <thead>
            <tr>
              <!--/* Rank */-->
              <th>
                <span>{{'RANKING.RANK'|translate}}
                  <fa-icon [icon]="faChartLine"></fa-icon></span>
              </th>
              <!--/* Name */-->
              <th class="thead-name">
                <span>{{'RANKING.NAME'|translate}}</span>
              </th>
              <!--/* Wins */-->
              <th>
                <span>{{'RANKING.WINS'|translate}}
                  <fa-icon [icon]="faCheck"></fa-icon></span>
              </th>
              <!--/* Win Rate */-->
              <th>
                <span>{{'RANKING.WIN-RATE'|translate}}
                  <fa-icon [icon]="faBalanceScale"></fa-icon></span>
              </th>
              <!--/* Points */-->
              <th>
                <span>{{'RANKING.POINTS'|translate}}
                  <fa-icon [icon]="faTrophy"></fa-icon></span>
              </th>
            </tr>
            </thead>
            <tbody>
            <!--/* All users */-->
            <tr [class.user-self]="user.userId==loginService.userId" *ngFor="let user of usersPlaceholder"
                (click)="profile(user.userId)" class="user-table-row">
              <td><span class="badge badge-position">{{user.statistic.rank}}</span></td>
              <td>{{getFullName(user)}}</td>
              <td>{{user.statistic.wins}}</td>
              <td>{{getWinRatio(user)}}</td>
              <td>{{user.statistic.rating}}</td>
            </tr>
            </tbody>
          </table>
        </div>
        <pagination [totalItems]="pages.totalElements" [itemsPerPage]="10" (numPages)="pages.totalPages"
                    (pageChanged)="pageChanged($event)" previousText="&lsaquo;" nextText="&rsaquo;"></pagination>
      </div>
    </div>
  </ng-template>
  <ng-template #elseBlock>
    <div class="container-fluid">
      <div class="text-center alert alert-danger">
        {{'RANKING.NO-RANKS'|translate}}
      </div>
    </div>
  </ng-template>
</div>
